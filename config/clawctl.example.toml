# clawctl.toml — OpenClaw Deployment Configuration
#
# Place this file in the project root directory.
# All paths are resolved relative to this file's location.

[clawctl]
# Persistent user state (secrets, workspaces, backups) — never auto-deleted.
# NOTE: If using Colima, the resolved path must be under $HOME.
data_root = "data"

# Disposable infrastructure (logs, pid files) — safe to delete anytime.
build_root = "build"

# OpenClaw npm package version (pinned)
openclaw_version = "latest"

# Docker image name (tagged as <image_name>:<openclaw_version>)
image_name = "openclaw-instance"

# Log level for clawctl (debug, info, warning, error)
log_level = "info"

[clawctl.backup]
# Enable periodic git-based backup of user memory/workspace files
enabled = true

# Backup interval in minutes (5–60)
interval_minutes = 15

# File patterns to include in backup (relative to user's openclaw dir)
include_patterns = [
    "workspace/**/*.md",
    "workspace/**/*.json",
    "openclaw.json",
]

[clawctl.defaults]
# Default AI model for new users (OpenRouter free model)
model = "openrouter/z-ai/glm-4.5-air:free"

# Default workspace template directory (resolved relative to this file).
# Contents are copied into each user's openclaw dir on provisioning.
# Existing files are never overwritten (preserves user edits).
# workspace_template = "templates/default"

# Default skills enabled for all users (can be overridden per-user)
[clawctl.defaults.skills]
gemini = true       # auth: run `gemini` once interactively to complete OAuth login
coding_agent = true
github = true       # auth: run `gh auth login` inside the container to authenticate

# gog requires a per-user email — configure it per-user via [users.skills.gog]
[clawctl.defaults.skills.gog]
enabled = true

# --- Users ---
# Add one [[users]] block per team member.
# Secret values are stored in separate files under data/secrets/<name>/
# The secret names below refer to filenames, not the actual values.
#
# Secrets are flexible — declare whichever API keys your provider needs.
# Each key becomes an env var inside the container (uppercased).
# Examples:
#   openrouter_api_key = "openrouter_api_key"  → OPENROUTER_API_KEY
#   anthropic_api_key  = "anthropic_api_key"   → ANTHROPIC_API_KEY

[[users]]
name = "alice"

# Per-user workspace template (overrides global default).
# workspace_template = "templates/alice-custom"

# Per-user skill configuration (overrides global defaults)
# [users.skills]
# gemini = false   # disable a skill for this user
# coding_agent = true

# gog requires the user's Google account email
# Secrets prompted on user add: gog_api_key, gog_keyring_password
[users.skills.gog]
enabled = true
email = "alice@example.com"

[users.secrets]
openrouter_api_key = "openrouter_api_key"

[users.agent]
model = "openrouter/z-ai/glm-4.5-air:free"

[users.channels.slack]
enabled = false
# bot_token_secret = "slack_bot_token"
# app_token_secret = "slack_app_token"

[users.channels.discord]
enabled = false
# token_secret = "discord_token"
